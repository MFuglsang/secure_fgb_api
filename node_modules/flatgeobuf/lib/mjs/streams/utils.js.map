{"version":3,"sources":["../../../../../src/ts/streams/utils.ts"],"sourcesContent":["import { Readable } from 'node:stream';\n\nexport function arrayToStream(array: ArrayBuffer): ReadableStream {\n    const nodeStream = Readable.from(Buffer.from(array));\n    return Readable.toWeb(nodeStream) as ReadableStream;\n}\n\nexport async function takeAsync<T>(asyncIterable: AsyncIterable<T>, count = Number.POSITIVE_INFINITY): Promise<T[]> {\n    const result: T[] = [];\n    const iterator = asyncIterable[Symbol.asyncIterator]();\n    while (result.length < count) {\n        const { value, done } = await iterator.next();\n        if (done) break;\n        result.push(value);\n    }\n    return result;\n}\n"],"names":["Readable","arrayToStream","array","nodeStream","from","Buffer","toWeb","takeAsync","asyncIterable","count","Number","result","iterator","Symbol","asyncIterator","length","value","done","next","push"],"mappings":"AAAA,OAASA,YAAAA,CAAQ,KAAQ,aAAc,AAEvC,QAAO,SAASC,cAAcC,CAAkB,EAC5C,IAAMC,EAAaH,EAASI,IAAI,CAACC,OAAOD,IAAI,CAACF,IAC7C,OAAOF,EAASM,KAAK,CAACH,EAC1B,CAEA,OAAO,eAAeI,UAAaC,CAA+B,CAAEC,EAAQC,GAAwB,EAChG,IAAMC,EAAc,EAAE,CAChBC,EAAWJ,CAAa,CAACK,OAAOC,aAAa,CAAC,GACpD,KAAOH,EAAOI,MAAM,CAAGN,GAAO,CAC1B,GAAM,CAAEO,MAAAA,CAAK,CAAEC,KAAAA,CAAI,CAAE,CAAG,MAAML,EAASM,IAAI,GAC3C,GAAID,EAAM,MACVN,EAAOQ,IAAI,CAACH,EAChB,CACA,OAAOL,CACX"}