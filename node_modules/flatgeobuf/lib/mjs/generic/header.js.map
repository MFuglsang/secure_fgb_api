{"version":3,"sources":["../../../../../src/ts/generic/header.ts"],"sourcesContent":["import { GeometryType } from '../flat-geobuf/geometry-type.js';\nimport { toGeometryType } from '../generic/geometry.js';\nimport type { IGeoJsonFeature } from '../geojson/feature.js';\nimport type { IFeature } from './feature.js';\n\nfunction featureGeomType(feature: IFeature | IGeoJsonFeature): GeometryType {\n    if (feature.getGeometry) {\n        return toGeometryType(feature.getGeometry().getType());\n    }\n    return toGeometryType((feature as IGeoJsonFeature).geometry.type);\n}\n\nexport function inferGeometryType(features: (IFeature | IGeoJsonFeature)[]): GeometryType {\n    let geometryType: GeometryType | undefined;\n\n    for (const f of features) {\n        if (geometryType === GeometryType.Unknown) {\n            break;\n        }\n\n        const gtype = featureGeomType(f);\n        if (geometryType === undefined) {\n            geometryType = gtype;\n        } else if (geometryType !== gtype) {\n            geometryType = GeometryType.Unknown;\n        }\n    }\n    if (geometryType === undefined) {\n        throw new Error('Could not infer geometry type for collection of features.');\n    }\n    return geometryType;\n}\n"],"names":["GeometryType","toGeometryType","inferGeometryType","features","geometryType","f","Unknown","gtype","feature","getGeometry","getType","geometry","type","undefined","Error"],"mappings":"AAAA,OAASA,gBAAAA,CAAY,KAAQ,iCAAkC,AAC/D,QAASC,kBAAAA,CAAc,KAAQ,wBAAyB,AAWxD,QAAO,SAASC,kBAAkBC,CAAwC,EACtE,IAAIC,EAEJ,IAAK,IAAMC,KAAKF,EAAU,CACtB,GAAIC,IAAiBJ,EAAaM,OAAO,CACrC,MAGJ,IAAMC,EAdV,AAAIC,AAc8BH,EAdtBI,WAAW,CACZR,EAAeO,AAaQH,EAbAI,WAAW,GAAGC,OAAO,IAEhDT,EAAe,AAWYI,EAXiBM,QAAQ,CAACC,IAAI,CAYxDR,AAAiBS,MAAAA,IAAjBT,EACAA,EAAeG,EACRH,IAAiBG,GACxBH,CAAAA,EAAeJ,EAAaM,OAAO,AAAD,CAE1C,CACA,GAAIF,AAAiBS,KAAAA,IAAjBT,EACA,MAAM,AAAIU,MAAM,6DAEpB,OAAOV,CACX"}